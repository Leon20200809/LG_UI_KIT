/* -------------------------------------------------------
    components.css — 三種の神器（見た目だけ / 属性契約に従う）
    前提: tokens.css / base.css 読み込み済み
-------------------------------------------------------- */
@layer components {

    /* ========== ヘッダー最小 ========== */
    .site-header {
        background: var(--color-surface);
        border-bottom: 1px solid var(--color-border);
    }

    .site-header .container {
        display: flex;
        align-items: center;
        gap: var(--space-2);
        min-height: 56px;
    }

    .site-title {
        margin: 0;
    }

    /* ========== ハンバーガー ========== */
    .lg-nav-toggle {
        margin-left: auto;
        display: inline-flex;
        align-items: center;
        gap: .5ch;
        padding: .45rem .7rem;
        border: 1px solid var(--color-border);
        border-radius: var(--radius-1);
        background: transparent;
        transition: background var(--dur) var(--ease);
    }

    .lg-nav-toggle:hover,
    .lg-nav-toggle:focus-visible {
        background: rgba(255, 255, 255, .06);
    }

    /* ナビ本体（モバイル初期は閉） */
    [data-lg-nav] {
        position: absolute;
        inset: 56px 0 auto 0;
        /* ヘッダー直下に展開 */
        background: var(--color-surface);
        border-top: 1px solid var(--color-border);
        transform: translateY(-8px);
        opacity: 0;
        pointer-events: none;
        transition: opacity var(--dur) var(--ease), transform var(--dur) var(--ease);
    }

    [data-lg-nav][data-state="open"] {
        transform: translateY(0);
        opacity: 1;
        pointer-events: auto;
    }

    .primary-nav .nav-list {
        list-style: none;
        margin: 0;
        padding: var(--space-2);
        display: flex;
        flex-direction: column;
        gap: var(--space-1);
    }

    .primary-nav a {
        display: block;
        padding: .5rem .75rem;
        border-radius: var(--radius-1);
    }

    .primary-nav a:hover,
    .primary-nav a:focus-visible {
        background: rgba(255, 255, 255, .06);
    }

    /* ========== アコーディオン（見た目のみ） ========== */
    [data-lg-accordion] {
        border: 1px solid var(--color-border);
        border-radius: var(--radius-2);
        padding: var(--space-2);
        background: var(--color-surface);
    }

    .acc-h {
        margin: 0;
        border-top: 1px solid var(--color-border);
    }

    .acc-h:first-of-type {
        border-top: 0;
    }

    .acc-trigger {
        width: 100%;
        text-align: left;
        background: transparent;
        border: 0;
        padding: .75rem .25rem;
        font: inherit;
        color: inherit;
    }

    .acc-trigger:hover,
    .acc-trigger:focus-visible {
        background: rgba(255, 255, 255, .04);
        border-radius: var(--radius-1);
    }

    .acc-panel {
        padding: 0 .25rem .75rem;
    }

    /* ========== タブ（見た目のみ） ========== */
    [data-lg-tabs] {
        border: 1px solid var(--color-border);
        border-radius: var(--radius-2);
        background: var(--color-surface);
        padding: var(--space-2);
    }

    .tabs-list {
        display: flex;
        gap: .25rem;
        border-bottom: 1px solid var(--color-border);
        margin-bottom: var(--space-2);
    }

    [role="tab"] {
        background: transparent;
        border: 0;
        padding: .5rem .75rem;
        border-bottom: 2px solid transparent;
        color: var(--color-text);
    }

    [role="tab"][aria-selected="true"] {
        border-bottom-color: var(--color-accent);
    }

    [role="tabpanel"] {
        padding: .25rem 0;
    }
}